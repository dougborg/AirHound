#!/bin/sh
MSG=$(head -1 "$1")
if ! echo "$MSG" | grep -qE '^(feat|fix|chore|docs|refactor|perf|ci|build|test|style|revert)(\(.+\))?!?: .+'; then
    echo "ERROR: Commit message must follow Conventional Commits format."
    echo "  Examples: feat: add BLE scanning, fix(display): resolve flicker"
    echo "  Types: feat, fix, chore, docs, refactor, perf, ci, build, test, style"
    exit 1
fi
